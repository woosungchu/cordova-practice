<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>Notification Example</title>
    <script type="text/javascript" charset="utf-8" src="../cordova.js"></script>
    <script type="text/javascript" charset="utf-8">
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {
      alert(FCMPlugin)
      FCMPlugin.getToken(
        function(token){
          console.log("token :"+ token)
          alert("token : "+ token);
        },
        function(err){
          console.log('error retrieving token: ' + err);
        }
      )

      FCMPlugin.onNotification(
        function(data){
          if(data.wasTapped){
            alert( JSON.stringify(data) );
          }else{
            alert( JSON.stringify(data) );
          }
        },
        function(msg){
          alert('onNotification callback successfully registered: ' + msg)
          console.log('onNotification callback successfully registered: ' + msg);
        },
        function(err){
          console.log('Error registering onNotification callback: ' + err);
        }
      );
    }

    </script>
</head>

<div id="home">
    <div id="app-status-div">
        <ul id="app-status-ul">
            <li>Cordova PushNotification Plugin Demo</li>
        </ul>
    </div>
</div>
